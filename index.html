<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Research Survey</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 700px;
      margin: 40px auto;
      line-height: 1.6;
    }
    button {
      margin-top: 20px;
      padding: 10px 18px;
      font-size: 16px;
    }
    button.active-tool {
      outline: 3px solid #2b6cb0;
      outline-offset: 2px;
    }
    button.ai-suggestion-btn {
      margin-top: 0;
      background: #111827;
      color: #fff;
      border: 1px solid #0f172a;
    }
    button.ai-suggestion-btn:active {
      filter: brightness(0.92);
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>

  <h1>Decision-making with AI Suggestions </h1>

  <!-- Consent -->
  <div id="consent">
    <p>
      *Duration: ~20 minutes*<br><br>

      Description: In this study, you will complete a short visual screening task using X-ray images of luggage. On each trial, you will decide whether a prohibited item is present. You may also see an AI-based aid that provides suggestions during the task (the aid is not always correct). You can use on-screen tools (e.g., zoom, image adjustments) to inspect the images.<br>
      Your responses and interaction data (e.g., time on each trial, tool usage; optionally mouse movements if enabled) will be recorded for research purposes. No personally identifying information will be collected.<br><br>

      Eligibility: 18+, fluent in English, normal or corrected-to-normal vision, desktop/laptop required<br>
    </p>

    <p>
       I have read and understand that: <br>
       ‚Ä¢ My responses are anonymous. <br>
       ‚Ä¢ I may withdraw at any time without penalty. <br>
       ‚Ä¢ The task involves simple decision-making about x-ray security images. <br><br>
       By checking the boxes below and clicking "Start Survey", I voluntarily agree to participate in this research study.
    </p>

    <label>
      <input type="checkbox" id="consentAge" />
      I am at least 18 years old and voluntarily agree to participate in this research study. <br><br>
    </label>

    <label>
      <input type="checkbox" id="consentDevice" />
      I'm using a desktop/laptop to do this survey.
    </label>

    <br />
    <button id="startBtn" disabled>Start Survey</button>
  </div>

  <!-- Survey -->
  <div id="survey" class="hidden">
    <h2>Demographic Information</h2>

    <label>
      Q1. In which country do you currently reside?
      <br />
      <input list="countryList" id="q1" name="q1" autocomplete="off" />
      <datalist id="countryList">
      <option value="Afghanistan">
      <option value="Albania">
      <option value="Algeria">
      <option value="Andorra">
      <option value="Angola">
      <option value="Antigua and Barbuda">
      <option value="Argentina">
      <option value="Armenia">
      <option value="Australia">
      <option value="Austria">
      <option value="Azerbaijan">
      <option value="Bahamas">
      <option value="Bahrain">
      <option value="Bangladesh">
      <option value="Barbados">
      <option value="Belarus">
      <option value="Belgium">
      <option value="Belize">
      <option value="Benin">
      <option value="Bhutan">
      <option value="Bolivia">
      <option value="Bosnia and Herzegovina">
      <option value="Botswana">
      <option value="Brazil">
      <option value="Brunei">
      <option value="Bulgaria">
      <option value="Burkina Faso">
      <option value="Burundi">
      <option value="Cabo Verde">
      <option value="Cambodia">
      <option value="Cameroon">
      <option value="Canada">
      <option value="Central African Republic">
      <option value="Chad">
      <option value="Chile">
      <option value="China">
      <option value="Colombia">
      <option value="Comoros">
      <option value="Congo">
      <option value="Costa Rica">
      <option value="Croatia">
      <option value="Cuba">
      <option value="Cyprus">
      <option value="Czech Republic">
      <option value="Denmark">
      <option value="Djibouti">
      <option value="Dominica">
      <option value="Dominican Republic">
      <option value="Ecuador">
      <option value="Egypt">
      <option value="El Salvador">
      <option value="Equatorial Guinea">
      <option value="Eritrea">
      <option value="Estonia">
      <option value="Eswatini">
      <option value="Ethiopia">
      <option value="Fiji">
      <option value="Finland">
      <option value="France">
      <option value="Gabon">
      <option value="Gambia">
      <option value="Georgia">
      <option value="Germany">
      <option value="Ghana">
      <option value="Greece">
      <option value="Grenada">
      <option value="Guatemala">
      <option value="Guinea">
      <option value="Guinea-Bissau">
      <option value="Guyana">
      <option value="Haiti">
      <option value="Honduras">
      <option value="Hungary">
      <option value="Iceland">
      <option value="India">
      <option value="Indonesia">
      <option value="Iran">
      <option value="Iraq">
      <option value="Ireland">
      <option value="Israel">
      <option value="Italy">
      <option value="Jamaica">
      <option value="Japan">
      <option value="Jordan">
      <option value="Kazakhstan">
      <option value="Kenya">
      <option value="Kiribati">
      <option value="Kuwait">
      <option value="Kyrgyzstan">
      <option value="Laos">
      <option value="Latvia">
      <option value="Lebanon">
      <option value="Lesotho">
      <option value="Liberia">
      <option value="Libya">
      <option value="Liechtenstein">
      <option value="Lithuania">
      <option value="Luxembourg">
      <option value="Madagascar">
      <option value="Malawi">
      <option value="Malaysia">
      <option value="Maldives">
      <option value="Mali">
      <option value="Malta">
      <option value="Marshall Islands">
      <option value="Mauritania">
      <option value="Mauritius">
      <option value="Mexico">
      <option value="Micronesia">
      <option value="Moldova">
      <option value="Monaco">
      <option value="Mongolia">
      <option value="Montenegro">
      <option value="Morocco">
      <option value="Mozambique">
      <option value="Myanmar">
      <option value="Namibia">
      <option value="Nauru">
      <option value="Nepal">
      <option value="Netherlands">
      <option value="New Zealand">
      <option value="Nicaragua">
      <option value="Niger">
      <option value="Nigeria">
      <option value="North Korea">
      <option value="North Macedonia">
      <option value="Norway">
      <option value="Oman">
      <option value="Pakistan">
      <option value="Palau">
      <option value="Panama">
      <option value="Papua New Guinea">
      <option value="Paraguay">
      <option value="Peru">
      <option value="Philippines">
      <option value="Poland">
      <option value="Portugal">
      <option value="Qatar">
      <option value="Romania">
      <option value="Russia">
      <option value="Rwanda">
      <option value="Saint Kitts and Nevis">
      <option value="Saint Lucia">
      <option value="Saint Vincent and the Grenadines">
      <option value="Samoa">
      <option value="San Marino">
      <option value="Sao Tome and Principe">
      <option value="Saudi Arabia">
      <option value="Senegal">
      <option value="Serbia">
      <option value="Seychelles">
      <option value="Sierra Leone">
      <option value="Singapore">
      <option value="Slovakia">
      <option value="Slovenia">
      <option value="Solomon Islands">
      <option value="Somalia">
      <option value="South Africa">
      <option value="South Korea">
      <option value="South Sudan">
      <option value="Spain">
      <option value="Sri Lanka">
      <option value="Sudan">
      <option value="Suriname">
      <option value="Sweden">
      <option value="Switzerland">
      <option value="Syria">
      <option value="Taiwan">
      <option value="Tajikistan">
      <option value="Tanzania">
      <option value="Thailand">
      <option value="Timor-Leste">
      <option value="Togo">
      <option value="Tonga">
      <option value="Trinidad and Tobago">
      <option value="Tunisia">
      <option value="Turkey">
      <option value="Turkmenistan">
      <option value="Tuvalu">
      <option value="Uganda">
      <option value="Ukraine">
      <option value="United Arab Emirates">
      <option value="United Kingdom">
      <option value="United States">
      <option value="Uruguay">
      <option value="Uzbekistan">
      <option value="Vanuatu">
      <option value="Vatican City">
      <option value="Venezuela">
      <option value="Vietnam">
      <option value="Yemen">
      <option value="Zambia">
      <option value="Zimbabwe">
      </datalist>
    </label>

    <h2>Demographic Information</h2>

    <!-- Age -->
    <fieldset>
      <legend>Age</legend>
      <label><input type="radio" name="age" value="18-24"> 18‚Äì24</label><br>
      <label><input type="radio" name="age" value="25-34"> 25‚Äì34</label><br>
      <label><input type="radio" name="age" value="35-44"> 35‚Äì44</label><br>
      <label><input type="radio" name="age" value="45-54"> 45‚Äì54</label><br>
      <label><input type="radio" name="age" value="55-64"> 55‚Äì64</label><br>
      <label><input type="radio" name="age" value="65+"> 65+</label><br>
      <label><input type="radio" name="age" value="prefer_not"> Prefer not to say</label>
    </fieldset>

    <br>

    <!-- Gender -->
    <fieldset>
      <legend>Gender</legend>
      <label><input type="radio" name="gender" value="female"> Female</label><br>
      <label><input type="radio" name="gender" value="male"> Male</label><br>
      <label><input type="radio" name="gender" value="nonbinary"> Non-binary / third gender</label><br>
      <label><input type="radio" name="gender" value="prefer_not"> Prefer not to say</label><br>
      <label>
        <input type="radio" name="gender" value="self_describe"> Prefer to self-describe:
        <input type="text" id="gender_other" placeholder="Please specify" />
      </label>
    </fieldset>

    <br>


    <!-- Race and Ethnicity (Multiple Selection) -->
    <fieldset>
      <legend>Race and Ethnicity (Select all that apply)</legend>

      <label>
        <input type="checkbox" name="race[]" value="american_indian">
        American Indian or Alaska Native
      </label><br>

      <label>
        <input type="checkbox" name="race[]" value="asian">
        Asian
      </label><br>

      <label>
        <input type="checkbox" name="race[]" value="black">
        Black or African American
      </label><br>

      <label>
        <input type="checkbox" name="race[]" value="hispanic">
        Hispanic or Latino
      </label><br>

      <label>
        <input type="checkbox" name="race[]" value="mena">
        Middle Eastern or North African
      </label><br>

      <label>
        <input type="checkbox" name="race[]" value="pacific_islander">
        Native Hawaiian or Other Pacific Islander
      </label><br>

      <label>
        <input type="checkbox" name="race[]" value="white">
        White
      </label><br>

      <label>
        <input type="checkbox" name="race[]" value="prefer_not">
        Prefer not to say
      </label><br>

      <label>
        <input type="checkbox" name="race[]" value="other">
        Some other race or ethnicity:
        <input type="text" name="race_other" placeholder="Please specify">
      </label>
    </fieldset>

    <br>

    <!-- Education -->
    <fieldset>
      <legend>Highest education level (completed or currently attending)</legend>
      <label><input type="radio" name="education" value="less_than_hs"> Less than high school</label><br>
      <label><input type="radio" name="education" value="high_school"> High school or equivalent</label><br>
      <label><input type="radio" name="education" value="some_college"> Some college (no degree)</label><br>
      <label><input type="radio" name="education" value="associate"> Associate degree</label><br>
      <label><input type="radio" name="education" value="bachelor"> Bachelor‚Äôs degree</label><br>
      <label><input type="radio" name="education" value="master"> Master‚Äôs degree</label><br>
      <label><input type="radio" name="education" value="doctoral"> Doctoral degree (PhD, EdD, etc.)</label><br>
      <label><input type="radio" name="education" value="professional"> Professional degree (MD, JD, etc.)</label><br>
      <label><input type="radio" name="education" value="prefer_not"> Prefer not to say</label>
    </fieldset>

    <br>

    <button id="nextBtnD">Next</button>
  </div>
  
  <!-- Human-first Task Info Page 1 -->
  <div id="taskInfo1" class="hidden">
    <h2>Task Information -- Example</h2>
    <div id="taskInfo1Desc" style="margin-bottom:16px;">
      <p>
        In the following tasks, you will inspect X-ray images of luggage on a canvas. Here's the suggestion about the dangerous item you need to pay attention to:
      </p>

      <img
        src="img/securitycheck.png"
        alt="Security check example"
        style="display:block; max-width:100%; height:auto; margin:12px 0; border:1px solid #ddd; border-radius:8px;"
      >

      <p style="margin-top:10px;">
        You can zoom, drag to pan, and use the pen/eraser to mark areas while you decide whether a dangerous item is present.
        <br><br>
        The following two pages demonstrate the tools you can use during the task.
        <br><br>
        <span style="color:#b91c1c;">
          Please carefully read the two sections below and test each button function. You are also ENCOURAGED to use these functions when you need them as much as possible in the following experiments.
        </span>
        <br><br>
        After you finish your inspection and fill in your decision, click "Next" to proceed to the next image.
      </p>
      
    </div>

    <div style="display:flex; gap:20px;">
      <!-- Tools -->
      <div style="min-width:120px;">
        <button id="zoomInBtnInfo1">Zoom In ‚ûï</button><br><br>
        <button id="zoomOutBtnInfo1">Zoom Out ‚ûñ</button><br><br>
        <button id="dragBtnInfo1">Drag ‚úã</button><br><br>
        <button id="drawBtnInfo1">Draw üñäÔ∏è</button><br><br>
        <button id="eraserBtnInfo1">Eraser üßΩ</button>
      </div>

      <!-- Image Canvas -->
      <div style="border:2px dashed #aaa; padding:10px;">
        <canvas id="taskCanvasInfo1" width="500" height="500"
                style="border:1px solid #ccc; cursor:crosshair;"></canvas>
      </div>
    </div>

    <div style="margin:22px 0 18px;">
      <p><strong>Select whether a dangerous item is present or not.</strong></p>
      <label><input type="radio" name="dangerInfo1" value="yes"> Dangerous</label><br>
      <label><input type="radio" name="dangerInfo1" value="no"> Safe</label>

      <div style="margin-top:10px;">
        <label for="confidenceInfo1">How confident are you that your final answer is correct?</label>
        <div style="display:flex; align-items:center; gap:10px; margin-top:6px;">
          <input
            type="number"
            id="confidenceNumberInfo1"
            name="confidenceNumberInfo1"
            min="0"
            max="100"
            step="1"
            value="50"
            style="width:72px;"
          />
          <input type="range" id="confidenceInfo1" name="confidenceInfo1" min="0" max="100" value="50" style="flex:1;">
          <span id="confidenceValueInfo1">50%</span>
        </div>
      </div>
    </div>

    <br>
    <button id="nextTaskInfo1Btn">Next</button>
  </div>

  <!-- Human-first Task Info Page 2 -->
  <div id="taskInfo2" class="hidden">
    <h2>Task Information -- Example</h2>
    <div id="taskInfo2Desc" style="margin-bottom:16px;">
      <p>
        After you enter your initial decision, you will have access to an AI suggestion. Press and hold the button to reveal the AI
        overlay; release it to return to the original image. You can still use same functions.
        <br><br>
        Remind: the AI is not always correct.
      </p>
      <p style="margin-top:10px;">
        <!-- Leave space for your description -->
      </p>
    </div>

    <div style="display:flex; justify-content:flex-start; margin-bottom:10px;">
      <button id="aiSuggestionBtnInfo2" class="ai-suggestion-btn">AI Suggestion (Hold)</button>
    </div>

    <div style="display:flex; gap:20px;">
      <!-- Tools -->
      <div style="min-width:120px;">
        <button id="zoomInBtnInfo2">Zoom In ‚ûï</button><br><br>
        <button id="zoomOutBtnInfo2">Zoom Out ‚ûñ</button><br><br>
        <button id="dragBtnInfo2">Drag ‚úã</button><br><br>
        <button id="drawBtnInfo2">Draw üñäÔ∏è</button><br><br>
        <button id="eraserBtnInfo2">Eraser üßΩ</button>
      </div>

      <!-- Image Canvas -->
      <div style="border:2px dashed #aaa; padding:10px;">
        <canvas id="taskCanvasInfo2" width="500" height="500"
                style="border:1px solid #ccc; cursor:crosshair;"></canvas>
      </div>
    </div>

    <div style="margin:12px 0 18px;">
      <p><strong>Select whether a dangerous item is present or not.</strong></p>
      <label><input type="radio" name="dangerInfo2" value="yes"> Dangerous</label><br>
      <label><input type="radio" name="dangerInfo2" value="no"> Safe</label>

      <div style="margin-top:10px;">
        <label for="confidenceInfo2">How confident are you that your final answer is correct?</label>
        <div style="display:flex; align-items:center; gap:10px; margin-top:6px;">
          <input
            type="number"
            id="confidenceNumberInfo2"
            name="confidenceNumberInfo2"
            min="0"
            max="100"
            step="1"
            value="50"
            style="width:72px;"
          />
          <input type="range" id="confidenceInfo2" name="confidenceInfo2" min="0" max="100" value="50" style="flex:1;">
          <span id="confidenceValueInfo2">50%</span>
        </div>
      </div>
    </div>

    <br>
    <button id="startTaskLoopBtn">Start Task</button>
  </div>

  <!-- Task Page (Loop) -->
  <div id="task" class="hidden">
    <h2>Luggage Inspection Task</h2>
    <div id="trialMeta" style="margin-bottom:10px; color:#555;">
      Trial <span id="trialIndex">1</span> / <span id="trialTotal">48</span>
    </div>

    <div style="display:flex; justify-content:flex-start; margin-bottom:10px;">
      <button id="aiSuggestionBtn" class="ai-suggestion-btn" style="display:none;">
        AI Suggestion (Hold)
      </button>
    </div>

    <div style="display:flex; gap:20px;">
      <!-- Tools -->
      <div style="min-width:120px;">
        <button id="zoomInBtn">Zoom In ‚ûï</button><br><br>
        <button id="zoomOutBtn">Zoom Out ‚ûñ</button><br><br>
        <button id="dragBtn">Drag ‚úã</button><br><br>
        <button id="drawBtn">Draw üñäÔ∏è</button><br><br>
        <button id="eraserBtn">Eraser üßΩ</button>
      </div>

      <!-- Image Canvas -->
      <div style="border:2px dashed #aaa; padding:10px;">
        <canvas id="taskCanvas" width="500" height="500"
                style="border:1px solid #ccc; cursor:crosshair;"></canvas>
      </div>
    </div>

    <br>

    <div>
      <p><strong id="dangerPrompt">Select whether a dangerous item is present or not.</strong></p>
      <label><input type="radio" name="danger" value="yes"> Dangerous</label><br>
      <label><input type="radio" name="danger" value="no"> Safe</label>
    </div>

    <div>
      <br><br>
      <label for="confidence">How confident are you that your final answer is correct?</label>
      <div style="display:flex; align-items:center; gap:10px; margin-top:6px;">
        <input
          type="number"
          id="confidenceNumber"
          name="confidenceNumber"
          min="0"
          max="100"
          step="1"
          value="50"
          style="width:72px;"
        />
        <input type="range" id="confidence" name="confidence" min="0" max="100" value="50" style="flex:1;">
        <span id="confidenceValue">50%</span>
      </div>
    </div>

    <br>
    <button id="nextTaskBtn" disabled>Next</button>
  </div>

  <!-- Post-task Questions -->
  <div id="postTask" class="hidden">
    <h2>Post-task Questions</h2>

    <div style="margin-bottom:14px;">
      <label for="postQ1">
        <strong>1.</strong> In your own words, can you describe how you approached the task when making your final decision (after ai's suggestion)?
        <em>(For example, what information you relied on, what you chose to check or not check, and why.)</em>
        <span style="color:#b91c1c;">*</span>
      </label>
      <br />
      <textarea id="postQ1" rows="5" style="width:100%; margin-top:6px;"></textarea>
    </div>

    <div style="margin-bottom:14px;">
      <label for="postQ2">
        <strong>2.</strong> What factors most influenced how confident or uncertain you felt about your final answers during the task?
        <span style="color:#b91c1c;">*</span>
      </label>
      <br />
      <textarea id="postQ2" rows="4" style="width:100%; margin-top:6px;"></textarea>
    </div>

    <div style="margin-bottom:14px;">
      <label for="postQ3"><strong>3.</strong> Any other comments?</label>
      <br />
      <textarea id="postQ3" rows="3" style="width:100%; margin-top:6px;"></textarea>
    </div>

    <button id="submitPostTaskBtn" disabled>Submit</button>
  </div>

  
  <!-- Thank You -->
  <div id="thankyou" class="hidden">
    <h2>Thank you!</h2>
    <p>Your responses have been recorded.</p>
  </div>

  <script type="module" src="main.js"></script>
</body>
</html>
